import{_ as v,r as y,o as f,j as P,k as r,c,P as _,A as a,b as d,d as t,e as w,f as h,v as p,F as x,l as k,m as A,h as i,n as C,p as I,i as S,q as m,s as V}from"./index.93024e2d.js";const B={setup(){const s=y({});async function o(){try{await r.getAllPosts()}catch(e){_.error(e,"Getting All Posts")}}async function g(){try{await A.getAds()}catch(e){_.error(e,"Getting Ads")}}return f(()=>{o(),g()}),P(()=>{r.clearPosts()}),{editable:s,posts:c(()=>a.posts),account:c(()=>a.account),newerPosts:c(()=>a.newerPosts),olderPosts:c(()=>a.olderPosts),async createPost(){try{await r.createPost(s.value),s.value={}}catch(e){_.error(e,"Creating Post")}},async changePage(e){try{a.query?await r.changePageWithQuery(e):await r.changePage(e),document.getElementById("topofposts").scrollIntoView()}catch(u){_.error(u,"Changing Page")}}}}},l=s=>(I("data-v-2ef81e57"),s=s(),S(),s),U={class:"container-fluid h-100"},G={id:"WHAT",class:"row"},M={class:"col-6 offset-3 post-area my-2 border rounded border-dark border-2 elevation-2 my-grey bg-gradient"},N={key:0,class:"row"},T={class:"col-3 pt-3 ps-4 d-flex flex-column"},j=["src"],q={class:"col-9"},H=l(()=>t("button",{type:"submit",id:"postbutton",class:"btn ms-5 py-1 rounded postbutton"},"Post!",-1)),W={key:1,class:"row h-100"},E=l(()=>t("div",{class:"col-12 d-flex justify-content-center align-items-center text-center"},[t("i",null,[t("span",{class:"fs-4"},"The live version of this site using BCW's API does not support logging in or posting, sorry!")])],-1)),F=[E],D={class:"col-12 my-overflow"},L=l(()=>t("div",{id:"topofposts"},null,-1)),O={class:"row"},Q={class:"col-10 offset-1 my-2 rounded border border-dark border-2 elevation-1 my-grey bg-gradient card-glow"},z={class:"row"},J={class:"col-12 my-2 d-flex align-items-center justify-content-around btn-col"},K=["disabled"],R=l(()=>t("i",{class:"mdi mdi-arrow-left"},null,-1)),X=m(" Newer Pages"),Y=[R,X],Z=["disabled"],$=m("Older Pages "),ee=l(()=>t("i",{class:"mdi mdi-arrow-right"},null,-1)),te=[$,ee];function oe(s,o,g,e,u,se){const b=V("PostCard");return i(),d("div",U,[t("div",G,[t("div",M,[e.account.id?(i(),d("div",N,[t("div",T,[t("img",{src:e.account.picture,alt:"",class:"rounded-circle elevation-2",height:"100",width:"100"},null,8,j)]),t("div",q,[t("form",{onSubmit:o[2]||(o[2]=w(n=>e.createPost(),["prevent"]))},[h(t("textarea",{"onUpdate:modelValue":o[0]||(o[0]=n=>e.editable.body=n),required:"",name:"postbody",id:"postbody",rows:"4",class:"mt-2 border-2 border border-dark rounded",placeholder:"Create a post!",maxlength:"1200"},null,512),[[p,e.editable.body]]),h(t("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>e.editable.imgUrl=n),type:"url",class:"rounded py-1",placeholder:"Got an IMG? Put er there!"},null,512),[[p,e.editable.imgUrl]]),H],32)])])):(i(),d("div",W,F))]),t("div",D,[L,t("div",O,[(i(!0),d(x,null,k(e.posts,n=>(i(),d("div",Q,[C(b,{post:n},null,8,["post"])]))),256))]),t("div",z,[t("div",J,[t("button",{class:"btn btn-outline-light",onClick:o[3]||(o[3]=n=>e.changePage(e.newerPosts)),disabled:!e.newerPosts},Y,8,K),t("button",{class:"btn btn-outline-light",onClick:o[4]||(o[4]=n=>e.changePage(e.olderPosts)),disabled:!e.olderPosts},te,8,Z)])])])])])}const re=v(B,[["render",oe],["__scopeId","data-v-2ef81e57"]]);export{re as default};
